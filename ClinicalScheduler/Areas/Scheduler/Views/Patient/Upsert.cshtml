@model Scheduler.Models.ViewModels.PatientVM

<form method="post" asp-action="Upsert">
    <input asp-for="Patient.Id" hidden />
    <div class="border p-3 mt-4 row">
        <div class="row pb-2">
            <h4 class="text-primary">@(Model.Patient.Id!=0?"Update":"Register") Patient</h4>
            <hr/>
        </div>
        <div class="mb-3 col-3" >
            <label asp-for="Patient.FirstName">First Name</label>
            <input asp-for="Patient.FirstName" class="form-control"/>
            <span asp-validation-for="Patient.FirstName" class="text-danger"></span>
        </div>
        <div class="mb-3 col-3">
            <label asp-for="Patient.MiddleName">Middle Name</label>
            <input asp-for="Patient.MiddleName" class="form-control"/>
            <span asp-validation-for ="Patient.MiddleName" class="text-danger"></span>
        </div>
        <div class="mb-3 col-3">
            <label asp-for="Patient.LastName">Last Name</label>
            <input asp-for="Patient.LastName" class="form-control"/>
            <span asp-validation-for ="Patient.LastName" class="text-danger"></span>
        </div>
        <div class="mb-3 col-3">
            <label asp-for="Patient.BirthDate">Birth Date</label>
            <input type="date" asp-for="Patient.BirthDate"  class="form-control"/>
            <span asp-validation-for ="Patient.BirthDate" class="text-danger"></span>
        </div>
        @if (@Model.Patient.Id == 0)
        {
        <div class="mb-3 col-3">
            <label asp-for="Patient.SSN">SSN</label>
            <input asp-for="Patient.SSN" id="ssn" class="form-control"/>
            <span asp-validation-for ="Patient.SSN" class="text-danger"></span>
        </div>
        } else
        {
        <div class="mb-3 col-3">
            <label>SSN</label>
            <label class="form-control bg-secondary">@Model.Patient.SSN</label>
        </div>
        }


         <div class="mb-3 col-3">
            <label asp-for="Patient.GenderId">Gender</label>
            <select asp-for="Patient.GenderId" asp-items="@Model.GenderList" class="form-select">
                <option disabled selected>- Select Gender -</option>
            </select>
            <span asp-validation-for ="Patient.GenderId" class="text-danger"></span>
        </div>
        <div class="mb-3 col-3">
            <label asp-for="Patient.RaceId">Race</label>
            <select asp-for="Patient.RaceId" asp-items="@Model.RaceList" class="form-select">
                <option disabled selected>- Select Race -</option>
            </select>
            <span asp-validation-for ="Patient.RaceId" class="text-danger"></span>
        </div>
        <div class="mb-3 col-3">
            <label asp-for="Patient.EthnicityId">Ethnicity</label>
            <select asp-for="Patient.EthnicityId" asp-items="@Model.EthnicityList" class="form-select">
                <option disabled selected>- Select Ethnicity -</option>
            </select>
            <span asp-validation-for ="Patient.EthnicityId" class="text-danger"></span>
        </div>
         <div class="mb-3 col-12">
            <label asp-for="Patient.StreetAddress">Street Address</label>
            <input asp-for="Patient.StreetAddress" class="form-control"/>
            <span asp-validation-for ="Patient.StreetAddress" class="text-danger"></span>
        </div>
        <div class="mb-3 col-4">
            <label asp-for="Patient.City">City</label>
            <input asp-for="Patient.City" class="form-control"/>
            <span asp-validation-for ="Patient.City" class="text-danger"></span>
        </div>
        <div class="mb-3 col-4">
            <label asp-for="Patient.State">State</label>
             <input asp-for="Patient.State" class="form-control"/>
            <span asp-validation-for ="Patient.State" class="text-danger"></span>
        </div>
        <div class="mb-3 col-4">
            <label asp-for="Patient.Zip">Zip</label>
             <input asp-for="Patient.Zip" class="form-control"/>
            <span asp-validation-for ="Patient.Zip" class="text-danger"></span>
        </div>
        <div class="mb-3 col-4">
            <label asp-for="Patient.PhoneNumber">Phone Number</label>
            <input asp-for="Patient.PhoneNumber" class="form-control" onKeyup="formatPhone(this)"/>
            <span asp-validation-for ="Patient.PhoneNumber" class="text-danger"></span>
        </div>
        <div class="mb-3 col-4">
            <label asp-for="Patient.MobileNumber">Mobile Number</label>
             <input asp-for="Patient.MobileNumber" class="form-control" onKeyup="formatPhone(this)"/>
            <span asp-validation-for ="Patient.MobileNumber" class="text-danger"></span>
        </div>
        <div class="mb-3 col-4">
            <label asp-for="Patient.WorkNumber">Work Number</label>
             <input asp-for="Patient.WorkNumber" class="form-control" onKeyup="formatPhone(this)"/>
            <span asp-validation-for ="Patient.WorkNumber" class="text-danger"></span>
        </div>
        <div class="mb-3 col-6">
            <label asp-for="Patient.ReferringPhysician">Referring Physician</label>
             <input asp-for="Patient.ReferringPhysician" class="form-control"/>
            <span asp-validation-for ="Patient.ReferringPhysician" class="text-danger"></span>
        </div>
        <div class="mb-3 col-6">
            <label asp-for="Patient.PrimaryPhysician">Primary Physician</label>
             <input asp-for="Patient.PrimaryPhysician" class="form-control"/>
            <span asp-validation-for ="Patient.PrimaryPhysician" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Patient.IsDeleted">Deleted</label>
            <input asp-for="Patient.IsDeleted" type="checkbox" data-val="true" data-val-required="Patient.IsDeleted" id="Patient.IsDeleted" name="Patient.IsDeleted" value="true" />               
        </div>
        <div class="col-12">
			<button type="submit" id="save" class="btn btn-primary" style="width:150px">@(Model.Patient.Id!=0?"Update":"Register")</button>
            <a asp-area="Shared" asp-controller="Search" asp-action="PatientSearch" class="btn btn-secondary" style="width:150px">
               Patient search
            </a>
            <a asp-area="Shared" asp-controller="Search" asp-action="PatientSearch" class="btn btn-danger" style="width:150px">
               Cancel
            </a>
        </div>
    </div>
</form>
@section Scripts{
    @{
        <partial name="_ValidationScriptsPartial"/>
        <script src="~/js/CustomMask.js"></script>
        <script src="~/js/SSN.js"></script>
    }
}
